<html>
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="../coverage.css"/>  <title> eval/system.clj </title>
 </head>
 <body>
<span class="covered" title="1 out of 1 forms covered">
                001&nbsp;&nbsp;(ns&nbsp;eval.system
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                002&nbsp;&nbsp;&nbsp;&nbsp;&quot;Main&nbsp;entrypoint&nbsp;to&nbsp;the&nbsp;Eval&nbsp;Tools&nbsp;system.&quot;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                003&nbsp;&nbsp;&nbsp;&nbsp;(:require
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                004&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[aero.core&nbsp;:as&nbsp;aero]
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                005&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[clojure.java.io&nbsp;:as&nbsp;io]
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                006&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[environ.core&nbsp;:refer&nbsp;[env]]
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                007&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[eval.cmr.core&nbsp;:as&nbsp;cmr]
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                008&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[integrant.core&nbsp;:as&nbsp;ig]
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                009&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[taoensso.timbre&nbsp;:as&nbsp;log])
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                010&nbsp;&nbsp;&nbsp;&nbsp;(:gen-class))
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                011&nbsp;&nbsp;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                012&nbsp;&nbsp;;;&nbsp;Let&nbsp;Aero&nbsp;know&nbsp;how&nbsp;to&nbsp;read&nbsp;integrant&nbsp;references
                </span><br/>
<span class="partial" title="3 out of 6 forms covered">
                013&nbsp;&nbsp;(defmethod&nbsp;aero&#x2F;reader&nbsp;&#x27;ig&#x2F;ref&nbsp;[_&nbsp;_&nbsp;value]&nbsp;(ig&#x2F;ref&nbsp;value))
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                014&nbsp;&nbsp;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                015&nbsp;&nbsp;;;&nbsp;default&nbsp;handler&nbsp;for&nbsp;integrant
                </span><br/>
<span class="covered" title="3 out of 3 forms covered">
                016&nbsp;&nbsp;(defmethod&nbsp;ig&#x2F;init-key&nbsp;:default&nbsp;[_&nbsp;_cfg])
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                017&nbsp;&nbsp;
                </span><br/>
<span class="covered" title="1 out of 1 forms covered">
                018&nbsp;&nbsp;(defn&nbsp;config
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                019&nbsp;&nbsp;&nbsp;&nbsp;&quot;Read&nbsp;the&nbsp;config&nbsp;file&nbsp;and&nbsp;return&nbsp;a&nbsp;value&nbsp;or&nbsp;map.
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                020&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;no&nbsp;keys&nbsp;are&nbsp;specified,&nbsp;the&nbsp;entire&nbsp;map&nbsp;will&nbsp;be&nbsp;returned,&nbsp;otherwise
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                021&nbsp;&nbsp;&nbsp;&nbsp;specific&nbsp;keys&nbsp;may&nbsp;be&nbsp;passed&nbsp;in&nbsp;to&nbsp;get&nbsp;specific&nbsp;value.&nbsp;Nil&nbsp;will&nbsp;be&nbsp;returned
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                022&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;no&nbsp;matching&nbsp;value&nbsp;exists.
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                023&nbsp;&nbsp;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                024&nbsp;&nbsp;&nbsp;&nbsp;Config&nbsp;location&nbsp;looks&nbsp;for&nbsp;:eval-config-location&quot;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                025&nbsp;&nbsp;&nbsp;&nbsp;[&amp;&nbsp;keys]
                </span><br/>
<span class="not-covered" title="0 out of 5 forms covered">
                026&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;[cfg-file&nbsp;(env&nbsp;:eval-config-location&nbsp;&quot;config.edn&quot;)
                </span><br/>
<span class="not-covered" title="0 out of 5 forms covered">
                027&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cfg&nbsp;(aero&#x2F;read-config&nbsp;(io&#x2F;resource&nbsp;cfg-file))]
                </span><br/>
<span class="not-covered" title="0 out of 4 forms covered">
                028&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(get-in&nbsp;cfg&nbsp;keys)))
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                029&nbsp;&nbsp;
                </span><br/>
<span class="covered" title="3 out of 3 forms covered">
                030&nbsp;&nbsp;(defmethod&nbsp;ig&#x2F;init-key&nbsp;:log&#x2F;system
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                031&nbsp;&nbsp;&nbsp;&nbsp;[_&nbsp;{:keys&nbsp;[level]}]
                </span><br/>
<span class="not-covered" title="0 out of 3 forms covered">
                032&nbsp;&nbsp;&nbsp;&nbsp;{:level&nbsp;level})
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                033&nbsp;&nbsp;
                </span><br/>
<span class="covered" title="3 out of 3 forms covered">
                034&nbsp;&nbsp;(defmethod&nbsp;ig&#x2F;init-key&nbsp;:app&#x2F;cmr
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                035&nbsp;&nbsp;&nbsp;&nbsp;[_&nbsp;{:keys&nbsp;[instances]}]
                </span><br/>
<span class="not-covered" title="0 out of 16 forms covered">
                036&nbsp;&nbsp;&nbsp;&nbsp;(log&#x2F;info&nbsp;&quot;CMR&nbsp;application&nbsp;initialized&quot;)
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                037&nbsp;&nbsp;
                </span><br/>
<span class="not-covered" title="0 out of 9 forms covered">
                038&nbsp;&nbsp;&nbsp;&nbsp;(when-let&nbsp;[banner&nbsp;(io&#x2F;resource&nbsp;&quot;banner.txt&quot;)]
                </span><br/>
<span class="not-covered" title="0 out of 18 forms covered">
                039&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&#x2F;info&nbsp;(slurp&nbsp;banner)))
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                040&nbsp;&nbsp;
                </span><br/>
<span class="not-covered" title="0 out of 33 forms covered">
                041&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;[clients&nbsp;(apply&nbsp;merge&nbsp;(for&nbsp;[[inst-id&nbsp;cfg]&nbsp;instances]
                </span><br/>
<span class="not-covered" title="0 out of 5 forms covered">
                042&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{inst-id&nbsp;(cmr&#x2F;create-client&nbsp;cfg)}))]
                </span><br/>
<span class="not-covered" title="0 out of 3 forms covered">
                043&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:instances&nbsp;clients}))
                </span><br/>
<span class="blank" title="0 out of 0 forms covered">
                044&nbsp;&nbsp;
                </span><br/>
<span class="covered" title="1 out of 1 forms covered">
                045&nbsp;&nbsp;(defn&nbsp;-main
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                046&nbsp;&nbsp;&nbsp;&nbsp;&quot;Main&nbsp;entrypoint&nbsp;when&nbsp;running&nbsp;from&nbsp;uberjar&quot;
                </span><br/>
<span class="not-tracked" title="0 out of 0 forms covered">
                047&nbsp;&nbsp;&nbsp;&nbsp;[&amp;&nbsp;args]
                </span><br/>
<span class="not-covered" title="0 out of 5 forms covered">
                048&nbsp;&nbsp;&nbsp;&nbsp;(when&nbsp;(seq&nbsp;args)
                </span><br/>
<span class="not-covered" title="0 out of 32 forms covered">
                049&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(doseq&nbsp;[arg&nbsp;args]
                </span><br/>
<span class="not-covered" title="0 out of 32 forms covered">
                050&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&#x2F;info&nbsp;arg)))
                </span><br/>
<span class="not-covered" title="0 out of 6 forms covered">
                051&nbsp;&nbsp;&nbsp;&nbsp;(:app&#x2F;cmr&nbsp;(ig&#x2F;init&nbsp;(config))))
                </span><br/>
 </body>
</html>
